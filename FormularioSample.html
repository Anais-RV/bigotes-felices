<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Formulario Básico</title>
    <style>
    body { font-family: sans-serif; margin: 2rem; }
    form { max-width: 400px; }
    label { display: block; margin: 1rem 0 0.25rem; }
    input { width: 100%; padding: 0.5rem; }
    .error { color: red; font-size: 0.9rem; }
    button { margin-top: 1rem; padding: 0.5rem 1rem; }
  </style>
  </head>
  <body>
    <h1>Formulario de contacto</h1>
    <form id="contactForm" novalidate>
      <label for="fullName">Nombre completo</label>
      <input type="text" id="fullName" name="fullName">
      <div class="error" id="errName"></div>

      <label for="email">Correo electrónico</label>
      <input type="email" id="email" name="email">
      <div class="error" id="errEmail"></div>

      <label for="phone">Teléfono</label>
      <input type="tel" id="phone" name="phone">
      <div class="error" id="errPhone"></div>

      <button type="submit">Enviar</button>
    </form>

    <script type="module">
    import { validateForm } from './src/utils/validators.js';

    const form = document.getElementById('contactForm');
    const errName  = document.getElementById('errName');
    const errEmail = document.getElementById('errEmail');
    const errPhone = document.getElementById('errPhone');

    form.addEventListener('submit', e => {
      e.preventDefault();

      const fullName = form.fullName.value;
      const email    = form.email.value;
      const phone    = form.phone.value;

      const result = validateForm({ fullName, email, phone });

      // Reset errores
      errName.textContent  = '';
      errEmail.textContent = '';
      errPhone.textContent = '';

      if (!result.fields.fullName.valid) errName.textContent = result.fields.fullName.error;
      if (!result.fields.email.valid)    errEmail.textContent = result.fields.email.error;
      if (!result.fields.phone.valid)    errPhone.textContent = result.fields.phone.error;

      if (result.isValid) {
        alert('✅ Formulario válido. Datos enviados:\n' +
          JSON.stringify({ fullName, email, phone }, null, 2));
        form.reset();
      }
    });
  </script>

    <div></div>
  </body>
</html>
